module.exports=[62085,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(70106);let e=(0,d.default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),f=(0,d.default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),g=(0,d.default)("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);var h=a.i(4720),i=a.i(92e3),j=a.i(16201),k=a.i(5784),l=a.i(50522);function m({label:a,value:c,onChange:d,type:e="text"}){return(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:a}),"textarea"===e?(0,b.jsx)("textarea",{value:c||"",onChange:a=>d(a.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none text-base resize-y min-h-[100px]",placeholder:`Enter ${a.toLowerCase()}...`}):(0,b.jsx)("input",{type:e,value:c||"",onChange:a=>d("number"===e?parseFloat(a.target.value):a.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none text-base",placeholder:`Enter ${a.toLowerCase()}...`})]})}function n({label:a,items:c,onChange:d}){return(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:a}),(0,b.jsxs)("div",{className:"space-y-2",children:[c.map((a,e)=>(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("input",{type:"text",value:a,onChange:a=>{let b=[...c];b[e]=a.target.value,d(b)},className:"flex-1 px-4 py-2 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none",placeholder:`Item ${e+1}`}),(0,b.jsx)("button",{onClick:()=>d(c.filter((a,b)=>b!==e)),className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 font-medium",children:"Remove"})]},e)),(0,b.jsx)("button",{onClick:()=>d([...c,""]),className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 font-medium",children:"+ Add Item"})]})]})}function o({item:a,index:c,onUpdate:d,onDelete:e}){return(0,b.jsxs)("div",{className:"border-2 border-gray-200 rounded-lg p-4 bg-gray-50",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsxs)("span",{className:"font-semibold text-gray-700",children:["Item ",c+1]}),(0,b.jsx)("button",{onClick:e,className:"px-3 py-1 bg-red-500 text-white text-sm rounded hover:bg-red-600",children:"Remove"})]}),Object.entries(a).map(([c,e])=>{let f=c.charAt(0).toUpperCase()+c.slice(1).replace(/([A-Z])/g," $1");return(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:f}),"number"==typeof e?(0,b.jsx)("input",{type:"number",value:e,onChange:b=>d({...a,[c]:parseFloat(b.target.value)||0}),className:"w-full px-3 py-2 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none"}):"string"==typeof e&&e.length>50?(0,b.jsx)("textarea",{value:e,onChange:b=>d({...a,[c]:b.target.value}),className:"w-full px-3 py-2 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none resize-y min-h-[80px]"}):(0,b.jsx)("input",{type:"text",value:e,onChange:b=>d({...a,[c]:b.target.value}),className:"w-full px-3 py-2 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none"})]},c)})]})}function p({label:a,items:c,onChange:d}){return(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:a}),(0,b.jsxs)("div",{className:"space-y-3",children:[c.map((a,e)=>(0,b.jsx)(o,{item:a,index:e,onUpdate:a=>{let b=[...c];b[e]=a,d(b)},onDelete:()=>d(c.filter((a,b)=>b!==e))},e)),c.length>0&&(0,b.jsxs)("button",{onClick:()=>{if(c.length>0){let a=Object.keys(c[0]).reduce((a,b)=>(a[b]="number"==typeof c[0][b]?0:"",a),{});d([...c,a])}},className:"w-full px-4 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 font-medium",children:["+ Add New ",a.slice(0,-1)||"Item"]})]})]})}function q({title:a,obj:c,onChange:d,isOpen:e,onToggle:f}){return(0,b.jsxs)("div",{className:"mb-4 border-2 border-gray-200 rounded-lg overflow-hidden",children:[(0,b.jsxs)("button",{onClick:f,className:"w-full flex items-center justify-between px-4 py-3 bg-gray-50 hover:bg-gray-100 transition-colors",children:[(0,b.jsx)("span",{className:"font-semibold text-gray-800",children:a}),e?(0,b.jsx)(k.ChevronDown,{size:20}):(0,b.jsx)(l.ChevronRight,{size:20})]}),e&&(0,b.jsx)("div",{className:"p-4 bg-white",children:Object.entries(c).map(([a,e])=>{let f=a.charAt(0).toUpperCase()+a.slice(1).replace(/([A-Z])/g," $1");if("string"==typeof e){let g=(a=>{try{let b=JSON.parse(a);return{success:!0,data:b}}catch{return{success:!1,data:null}}})(e);return g.success&&Array.isArray(g.data)&&g.data.every(a=>"object"==typeof a)?(0,b.jsx)(p,{label:f,items:g.data,onChange:b=>d({...c,[a]:JSON.stringify(b)})},a):g.success&&Array.isArray(g.data)&&g.data.every(a=>"string"==typeof a)?(0,b.jsx)(n,{label:f,items:g.data,onChange:b=>d({...c,[a]:JSON.stringify(b)})},a):(0,b.jsx)(m,{label:f,value:e,type:e.length>50?"textarea":"text",onChange:b=>d({...c,[a]:b})},a)}if("number"==typeof e)return(0,b.jsx)(m,{label:f,value:e,type:"number",onChange:b=>d({...c,[a]:b})},a);if(Array.isArray(e)){if(e.every(a=>"string"==typeof a))return(0,b.jsx)(n,{label:f,items:e,onChange:b=>d({...c,[a]:b})},a);else if(e.every(a=>"object"==typeof a))return(0,b.jsx)(p,{label:f,items:e,onChange:b=>d({...c,[a]:b})},a)}return null})})]})}function r({value:a,onChange:d}){let[e,f]=(0,c.useState)({});(0,c.useEffect)(()=>{if("object"==typeof a&&!Array.isArray(a)){let b=Object.keys(a);b.length>0&&f({[b[0]]:!0})}},[]);let g=a=>{try{let b=JSON.parse(a);return{success:!0,data:b}}catch{return{success:!1,data:null}}};if("string"==typeof a){let c=g(a);return c.success&&Array.isArray(c.data)&&c.data.every(a=>"object"==typeof a)?(0,b.jsx)(p,{label:"Items",items:c.data,onChange:a=>d(JSON.stringify(a))}):c.success&&Array.isArray(c.data)&&c.data.every(a=>"string"==typeof a)?(0,b.jsx)(n,{label:"Items",items:c.data,onChange:a=>d(JSON.stringify(a))}):(0,b.jsx)(m,{label:"Content",value:a,type:a.length>50?"textarea":"text",onChange:d})}if("number"==typeof a)return(0,b.jsx)(m,{label:"Value",value:a,type:"number",onChange:d});if(Array.isArray(a)&&a.every(a=>"string"==typeof a))return(0,b.jsx)(n,{label:"Items",items:a,onChange:d});if(Array.isArray(a)&&a.every(a=>"object"==typeof a))return(0,b.jsx)(p,{label:"Items",items:a,onChange:d});if("object"==typeof a&&!Array.isArray(a)){let c=Object.entries(a);return(0,b.jsx)("div",{className:"space-y-4",children:c.map(([c,h])=>{let i=c.charAt(0).toUpperCase()+c.slice(1).replace(/([A-Z])/g," $1");if("string"==typeof h){let e=g(h);return e.success&&Array.isArray(e.data)&&e.data.every(a=>"object"==typeof a)?(0,b.jsx)(p,{label:i,items:e.data,onChange:b=>d({...a,[c]:JSON.stringify(b)})},c):e.success&&Array.isArray(e.data)&&e.data.every(a=>"string"==typeof a)?(0,b.jsx)(n,{label:i,items:e.data,onChange:b=>d({...a,[c]:JSON.stringify(b)})},c):(0,b.jsx)(m,{label:i,value:h,type:h.length>50?"textarea":"text",onChange:b=>d({...a,[c]:b})},c)}return"object"!=typeof h||Array.isArray(h)?"number"==typeof h?(0,b.jsx)(m,{label:i,value:h,type:"number",onChange:b=>d({...a,[c]:b})},c):Array.isArray(h)&&h.every(a=>"string"==typeof a)?(0,b.jsx)(n,{label:i,items:h,onChange:b=>d({...a,[c]:b})},c):Array.isArray(h)&&h.every(a=>"object"==typeof a)?(0,b.jsx)(p,{label:i,items:h,onChange:b=>d({...a,[c]:b})},c):null:(0,b.jsx)(q,{title:i,obj:h,isOpen:e[c],onToggle:()=>f({...e,[c]:!e[c]}),onChange:b=>d({...a,[c]:b})},c)})})}return(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"mb-2 px-4 py-2 bg-yellow-50 border-l-4 border-yellow-400 text-yellow-800",children:[(0,b.jsx)("p",{className:"font-semibold",children:"Advanced Structure Detected"}),(0,b.jsx)("p",{className:"text-sm",children:"This content has a complex structure. Contact support if you need to edit it."})]}),(0,b.jsx)("textarea",{value:JSON.stringify(a,null,2),readOnly:!0,className:"w-full h-64 px-4 py-3 border-2 border-gray-300 rounded-lg bg-gray-50 font-mono text-sm"})]})}function s(){let[a,d]=(0,c.useState)(null),[k,l]=(0,c.useState)(!0),[m,n]=(0,c.useState)(null),[o,p]=(0,c.useState)(null),[q,s]=(0,c.useState)({type:"",message:""}),[t,u]=(0,c.useState)("");async function v(){l(!0),s({type:"",message:""});try{let a=await fetch("/api/content"),b=await a.json();b.ok?d(b.data||{}):(d({}),s({type:"error",message:"Failed to load: "+(b.error||"unknown")}))}catch(a){d({}),s({type:"error",message:"Failed to load: "+a.message})}finally{l(!1)}}async function w(){s({type:"info",message:"Saving..."});try{let a=await fetch(`/api/content/${encodeURIComponent(m)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({value:o})}),b=await a.json();b.ok?(await v(),s({type:"success",message:"âœ“ Saved successfully!"}),setTimeout(()=>s({type:"",message:""}),3e3)):s({type:"error",message:"Save failed: "+(b.error||"unknown")})}catch(a){s({type:"error",message:"Error: "+a.message})}}(0,c.useEffect)(()=>{v()},[]);let x=Object.keys(a||{}).filter(a=>a.toLowerCase().includes(t.toLowerCase()));return k?(0,b.jsx)("div",{className:"flex items-center justify-center h-screen bg-gray-50",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(f,{className:"animate-spin mx-auto mb-4 text-blue-500",size:48}),(0,b.jsx)("p",{className:"text-gray-600 text-lg",children:"Loading content..."})]})}):(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,b.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,b.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(h.FileText,{className:"text-blue-500",size:32}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Content Editor"}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Manage your website content easily"})]})]}),(0,b.jsxs)("button",{onClick:v,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[(0,b.jsx)(f,{size:16}),"Refresh"]})]})})}),q.message&&(0,b.jsxs)("div",{className:`max-w-7xl mx-auto px-6 py-3 mt-4 rounded-lg flex items-center gap-2 ${"success"===q.type?"bg-green-100 text-green-800":"error"===q.type?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:["success"===q.type?(0,b.jsx)(j.CheckCircle,{size:20}):(0,b.jsx)(i.AlertCircle,{size:20}),(0,b.jsx)("span",{className:"font-medium",children:q.message})]}),(0,b.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-8",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,b.jsx)("div",{className:"lg:col-span-1",children:(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Content Items"}),(0,b.jsx)("input",{type:"text",placeholder:"Search content...",value:t,onChange:a=>u(a.target.value),className:"w-full px-4 py-2 mb-4 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none"}),(0,b.jsx)("div",{className:"space-y-2 max-h-[600px] overflow-y-auto",children:0===x.length?(0,b.jsxs)("div",{className:"text-center py-8 text-gray-400",children:[(0,b.jsx)(h.FileText,{size:48,className:"mx-auto mb-2 opacity-50"}),(0,b.jsx)("p",{children:"No content items found"})]}):x.map(c=>(0,b.jsx)("button",{onClick:()=>{n(c),p(a[c]),s({type:"",message:""})},className:`w-full text-left px-4 py-3 rounded-lg transition-all ${m===c?"bg-blue-500 text-white shadow-md":"bg-gray-50 hover:bg-gray-100 text-gray-700"}`,children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(g,{size:16}),(0,b.jsx)("span",{className:"font-medium truncate",children:c})]})},c))})]})}),(0,b.jsx)("div",{className:"lg:col-span-2",children:(0,b.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:m?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-1",children:m}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Edit the fields below"})]}),(0,b.jsx)("div",{className:"max-h-[600px] overflow-y-auto pr-2",children:(0,b.jsx)(r,{value:o,onChange:p})}),(0,b.jsx)("div",{className:"flex gap-3 mt-6 pt-6 border-t",children:(0,b.jsxs)("button",{onClick:w,className:"flex items-center gap-2 px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors font-medium shadow-sm",children:[(0,b.jsx)(e,{size:18}),"Save Changes"]})})]}):(0,b.jsxs)("div",{className:"text-center py-16 text-gray-400",children:[(0,b.jsx)(g,{size:64,className:"mx-auto mb-4 opacity-50"}),(0,b.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Select an item to edit"}),(0,b.jsx)("p",{children:"Choose a content item from the list to start editing"})]})})})]})})]})}a.s(["default",()=>s],62085)}];

//# sourceMappingURL=app_admin_page_4e2cc4a7.js.map
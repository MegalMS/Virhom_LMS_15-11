(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,63209,e=>{"use strict";let t=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],63209)},78583,e=>{"use strict";let t=(0,e.i(75254).default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);e.s(["FileText",()=>t],78583)},63059,e=>{"use strict";let t=(0,e.i(75254).default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);e.s(["ChevronRight",()=>t],63059)},77844,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(75254);let r=(0,a.default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),l=(0,a.default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),n=(0,a.default)("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);var i=e.i(78583),o=e.i(63209),c=e.i(69638),d=e.i(64659),u=e.i(63059);function x({label:e,value:s,onChange:a,type:r="text"}){return(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:e}),"textarea"===r?(0,t.jsx)("textarea",{value:s||"",onChange:e=>a(e.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none text-base resize-y min-h-[100px]",placeholder:`Enter ${e.toLowerCase()}...`}):(0,t.jsx)("input",{type:r,value:s||"",onChange:e=>a("number"===r?parseFloat(e.target.value):e.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none text-base",placeholder:`Enter ${e.toLowerCase()}...`})]})}function m({label:e,items:s,onChange:a}){return(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:e}),(0,t.jsxs)("div",{className:"space-y-2",children:[s.map((e,r)=>(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{type:"text",value:e,onChange:e=>{let t=[...s];t[r]=e.target.value,a(t)},className:"flex-1 px-4 py-2 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none",placeholder:`Item ${r+1}`}),(0,t.jsx)("button",{onClick:()=>a(s.filter((e,t)=>t!==r)),className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 font-medium",children:"Remove"})]},r)),(0,t.jsx)("button",{onClick:()=>a([...s,""]),className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 font-medium",children:"+ Add Item"})]})]})}function y({item:e,index:s,onUpdate:a,onDelete:r}){return(0,t.jsxs)("div",{className:"border-2 border-gray-200 rounded-lg p-4 bg-gray-50",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("span",{className:"font-semibold text-gray-700",children:["Item ",s+1]}),(0,t.jsx)("button",{onClick:r,className:"px-3 py-1 bg-red-500 text-white text-sm rounded hover:bg-red-600",children:"Remove"})]}),Object.entries(e).map(([s,r])=>{let l=s.charAt(0).toUpperCase()+s.slice(1).replace(/([A-Z])/g," $1");return(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:l}),"number"==typeof r?(0,t.jsx)("input",{type:"number",value:r,onChange:t=>a({...e,[s]:parseFloat(t.target.value)||0}),className:"w-full px-3 py-2 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none"}):"string"==typeof r&&r.length>50?(0,t.jsx)("textarea",{value:r,onChange:t=>a({...e,[s]:t.target.value}),className:"w-full px-3 py-2 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none resize-y min-h-[80px]"}):(0,t.jsx)("input",{type:"text",value:r,onChange:t=>a({...e,[s]:t.target.value}),className:"w-full px-3 py-2 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none"})]},s)})]})}function g({label:e,items:s,onChange:a}){return(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:e}),(0,t.jsxs)("div",{className:"space-y-3",children:[s.map((e,r)=>(0,t.jsx)(y,{item:e,index:r,onUpdate:e=>{let t=[...s];t[r]=e,a(t)},onDelete:()=>a(s.filter((e,t)=>t!==r))},r)),s.length>0&&(0,t.jsxs)("button",{onClick:()=>{if(s.length>0){let e=Object.keys(s[0]).reduce((e,t)=>(e[t]="number"==typeof s[0][t]?0:"",e),{});a([...s,e])}},className:"w-full px-4 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 font-medium",children:["+ Add New ",e.slice(0,-1)||"Item"]})]})]})}function h({title:e,obj:s,onChange:a,isOpen:r,onToggle:l}){return(0,t.jsxs)("div",{className:"mb-4 border-2 border-gray-200 rounded-lg overflow-hidden",children:[(0,t.jsxs)("button",{onClick:l,className:"w-full flex items-center justify-between px-4 py-3 bg-gray-50 hover:bg-gray-100 transition-colors",children:[(0,t.jsx)("span",{className:"font-semibold text-gray-800",children:e}),r?(0,t.jsx)(d.ChevronDown,{size:20}):(0,t.jsx)(u.ChevronRight,{size:20})]}),r&&(0,t.jsx)("div",{className:"p-4 bg-white",children:Object.entries(s).map(([e,r])=>{let l=e.charAt(0).toUpperCase()+e.slice(1).replace(/([A-Z])/g," $1");if("string"==typeof r){let n=(e=>{try{let t=JSON.parse(e);return{success:!0,data:t}}catch{return{success:!1,data:null}}})(r);return n.success&&Array.isArray(n.data)&&n.data.every(e=>"object"==typeof e)?(0,t.jsx)(g,{label:l,items:n.data,onChange:t=>a({...s,[e]:JSON.stringify(t)})},e):n.success&&Array.isArray(n.data)&&n.data.every(e=>"string"==typeof e)?(0,t.jsx)(m,{label:l,items:n.data,onChange:t=>a({...s,[e]:JSON.stringify(t)})},e):(0,t.jsx)(x,{label:l,value:r,type:r.length>50?"textarea":"text",onChange:t=>a({...s,[e]:t})},e)}if("number"==typeof r)return(0,t.jsx)(x,{label:l,value:r,type:"number",onChange:t=>a({...s,[e]:t})},e);if(Array.isArray(r)){if(r.every(e=>"string"==typeof e))return(0,t.jsx)(m,{label:l,items:r,onChange:t=>a({...s,[e]:t})},e);else if(r.every(e=>"object"==typeof e))return(0,t.jsx)(g,{label:l,items:r,onChange:t=>a({...s,[e]:t})},e)}return null})})]})}function p({value:e,onChange:a}){let[r,l]=(0,s.useState)({});(0,s.useEffect)(()=>{if("object"==typeof e&&!Array.isArray(e)){let t=Object.keys(e);t.length>0&&l({[t[0]]:!0})}},[]);let n=e=>{try{let t=JSON.parse(e);return{success:!0,data:t}}catch{return{success:!1,data:null}}};if("string"==typeof e){let s=n(e);return s.success&&Array.isArray(s.data)&&s.data.every(e=>"object"==typeof e)?(0,t.jsx)(g,{label:"Items",items:s.data,onChange:e=>a(JSON.stringify(e))}):s.success&&Array.isArray(s.data)&&s.data.every(e=>"string"==typeof e)?(0,t.jsx)(m,{label:"Items",items:s.data,onChange:e=>a(JSON.stringify(e))}):(0,t.jsx)(x,{label:"Content",value:e,type:e.length>50?"textarea":"text",onChange:a})}if("number"==typeof e)return(0,t.jsx)(x,{label:"Value",value:e,type:"number",onChange:a});if(Array.isArray(e)&&e.every(e=>"string"==typeof e))return(0,t.jsx)(m,{label:"Items",items:e,onChange:a});if(Array.isArray(e)&&e.every(e=>"object"==typeof e))return(0,t.jsx)(g,{label:"Items",items:e,onChange:a});if("object"==typeof e&&!Array.isArray(e)){let s=Object.entries(e);return(0,t.jsx)("div",{className:"space-y-4",children:s.map(([s,i])=>{let o=s.charAt(0).toUpperCase()+s.slice(1).replace(/([A-Z])/g," $1");if("string"==typeof i){let r=n(i);return r.success&&Array.isArray(r.data)&&r.data.every(e=>"object"==typeof e)?(0,t.jsx)(g,{label:o,items:r.data,onChange:t=>a({...e,[s]:JSON.stringify(t)})},s):r.success&&Array.isArray(r.data)&&r.data.every(e=>"string"==typeof e)?(0,t.jsx)(m,{label:o,items:r.data,onChange:t=>a({...e,[s]:JSON.stringify(t)})},s):(0,t.jsx)(x,{label:o,value:i,type:i.length>50?"textarea":"text",onChange:t=>a({...e,[s]:t})},s)}return"object"!=typeof i||Array.isArray(i)?"number"==typeof i?(0,t.jsx)(x,{label:o,value:i,type:"number",onChange:t=>a({...e,[s]:t})},s):Array.isArray(i)&&i.every(e=>"string"==typeof e)?(0,t.jsx)(m,{label:o,items:i,onChange:t=>a({...e,[s]:t})},s):Array.isArray(i)&&i.every(e=>"object"==typeof e)?(0,t.jsx)(g,{label:o,items:i,onChange:t=>a({...e,[s]:t})},s):null:(0,t.jsx)(h,{title:o,obj:i,isOpen:r[s],onToggle:()=>l({...r,[s]:!r[s]}),onChange:t=>a({...e,[s]:t})},s)})})}return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"mb-2 px-4 py-2 bg-yellow-50 border-l-4 border-yellow-400 text-yellow-800",children:[(0,t.jsx)("p",{className:"font-semibold",children:"Advanced Structure Detected"}),(0,t.jsx)("p",{className:"text-sm",children:"This content has a complex structure. Contact support if you need to edit it."})]}),(0,t.jsx)("textarea",{value:JSON.stringify(e,null,2),readOnly:!0,className:"w-full h-64 px-4 py-3 border-2 border-gray-300 rounded-lg bg-gray-50 font-mono text-sm"})]})}function b(){let[e,a]=(0,s.useState)(null),[d,u]=(0,s.useState)(!0),[x,m]=(0,s.useState)(null),[y,g]=(0,s.useState)(null),[h,b]=(0,s.useState)({type:"",message:""}),[f,j]=(0,s.useState)("");async function v(){u(!0),b({type:"",message:""});try{let e=await fetch("/api/content"),t=await e.json();t.ok?a(t.data||{}):(a({}),b({type:"error",message:"Failed to load: "+(t.error||"unknown")}))}catch(e){a({}),b({type:"error",message:"Failed to load: "+e.message})}finally{u(!1)}}async function N(){b({type:"info",message:"Saving..."});try{let e=await fetch(`/api/content/${encodeURIComponent(x)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({value:y})}),t=await e.json();t.ok?(await v(),b({type:"success",message:"âœ“ Saved successfully!"}),setTimeout(()=>b({type:"",message:""}),3e3)):b({type:"error",message:"Save failed: "+(t.error||"unknown")})}catch(e){b({type:"error",message:"Error: "+e.message})}}(0,s.useEffect)(()=>{v()},[]);let C=Object.keys(e||{}).filter(e=>e.toLowerCase().includes(f.toLowerCase()));return d?(0,t.jsx)("div",{className:"flex items-center justify-center h-screen bg-gray-50",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(l,{className:"animate-spin mx-auto mb-4 text-blue-500",size:48}),(0,t.jsx)("p",{className:"text-gray-600 text-lg",children:"Loading content..."})]})}):(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(i.FileText,{className:"text-blue-500",size:32}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Content Editor"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Manage your website content easily"})]})]}),(0,t.jsxs)("button",{onClick:v,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[(0,t.jsx)(l,{size:16}),"Refresh"]})]})})}),h.message&&(0,t.jsxs)("div",{className:`max-w-7xl mx-auto px-6 py-3 mt-4 rounded-lg flex items-center gap-2 ${"success"===h.type?"bg-green-100 text-green-800":"error"===h.type?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:["success"===h.type?(0,t.jsx)(c.CheckCircle,{size:20}):(0,t.jsx)(o.AlertCircle,{size:20}),(0,t.jsx)("span",{className:"font-medium",children:h.message})]}),(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-8",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsx)("div",{className:"lg:col-span-1",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Content Items"}),(0,t.jsx)("input",{type:"text",placeholder:"Search content...",value:f,onChange:e=>j(e.target.value),className:"w-full px-4 py-2 mb-4 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none"}),(0,t.jsx)("div",{className:"space-y-2 max-h-[600px] overflow-y-auto",children:0===C.length?(0,t.jsxs)("div",{className:"text-center py-8 text-gray-400",children:[(0,t.jsx)(i.FileText,{size:48,className:"mx-auto mb-2 opacity-50"}),(0,t.jsx)("p",{children:"No content items found"})]}):C.map(s=>(0,t.jsx)("button",{onClick:()=>{m(s),g(e[s]),b({type:"",message:""})},className:`w-full text-left px-4 py-3 rounded-lg transition-all ${x===s?"bg-blue-500 text-white shadow-md":"bg-gray-50 hover:bg-gray-100 text-gray-700"}`,children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(n,{size:16}),(0,t.jsx)("span",{className:"font-medium truncate",children:s})]})},s))})]})}),(0,t.jsx)("div",{className:"lg:col-span-2",children:(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:x?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-1",children:x}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Edit the fields below"})]}),(0,t.jsx)("div",{className:"max-h-[600px] overflow-y-auto pr-2",children:(0,t.jsx)(p,{value:y,onChange:g})}),(0,t.jsx)("div",{className:"flex gap-3 mt-6 pt-6 border-t",children:(0,t.jsxs)("button",{onClick:N,className:"flex items-center gap-2 px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors font-medium shadow-sm",children:[(0,t.jsx)(r,{size:18}),"Save Changes"]})})]}):(0,t.jsxs)("div",{className:"text-center py-16 text-gray-400",children:[(0,t.jsx)(n,{size:64,className:"mx-auto mb-4 opacity-50"}),(0,t.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Select an item to edit"}),(0,t.jsx)("p",{children:"Choose a content item from the list to start editing"})]})})})]})})]})}e.s(["default",()=>b],77844)}]);